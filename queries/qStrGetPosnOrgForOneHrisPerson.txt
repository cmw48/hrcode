#

# qStrGetPosnOrgForOneHrisPerson
# updated 120907
# This query takes a position URI varvalue and returns 
# position and org pairs


PREFIX vivo: <http://vivoweb.org/ontology/core#> 
PREFIX hr: <http://vivo.cornell.edu/ns/hr/0.9/hr.owl#>
PREFIX foaf: <http://xmlns.com/foaf/0.1/>

CONSTRUCT 
  {
  ?job vivo:positionInOrganization ?org .
  ?org vivo:organizationForPosition ?job .
  }
WHERE
{
  # querying HRIS endpoint
  SERVICE <HRISSERV>
    {
    VARVALUE hr:personInJob ?job .
    ?job hr:jobInPosition ?position .
    ?position vivo:positionInOrganization ?org .
    }
}
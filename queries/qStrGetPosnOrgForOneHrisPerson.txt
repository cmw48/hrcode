#

# qStrGetPosnOrgForOneHrisPerson
# updated 120907
# This query takes a position URI varvalue and returns 
# position and org pairs
# updated 121005 to include org/posn reciprocals

PREFIX vivo: <http://vivoweb.org/ontology/core#> 
PREFIX hr: <http://vivo.cornell.edu/ns/hr/0.9/hr.owl#>

CONSTRUCT 
  {
  ?position vivo:positionInOrganization ?org .
  ?org vivo:organizationForPosition ?position .
  }
WHERE
{
  # querying HRIS endpoint
  SERVICE <HRISSERV>
    {
    VARVALUE hr:personInJob ?job .
    ?job hr:jobInPosition ?position .
    ?position vivo:positionInOrganization ?org .
    }
}